# SwiftNotes Production Environment Configuration
# DO NOT COMMIT THIS FILE - Use environment variables or secrets management

# Application Environment
NODE_ENV=production
PORT=3001

# Domain Configuration
FRONTEND_URL=https://swiftnotes.app
BACKEND_URL=https://api.swiftnotes.app

# Supabase Configuration (Production)
SUPABASE_URL=https://ppavdpzulvosmmkzqtgy.supabase.co
SUPABASE_SERVICE_KEY=${SUPABASE_SERVICE_KEY}
SUPABASE_ANON_KEY=${SUPABASE_ANON_KEY}

# Google AI Configuration
GOOGLE_AI_API_KEY=${GOOGLE_AI_API_KEY}

# Redis Configuration (Production)
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=${REDIS_PASSWORD}

# Security Configuration
JWT_SECRET=${JWT_SECRET}
BCRYPT_ROUNDS=14
SESSION_SECRET=${SESSION_SECRET}

# Rate Limiting Configuration (Production - Aggressive)
ENABLE_RATE_LIMITING=true
ENABLE_SMART_QUEUE=true
ENABLE_USAGE_MONITORING=true
ENABLE_COST_TRACKING=true

# Production Rate Limits (More restrictive)
AUTH_RATE_LIMIT=5
GENERAL_RATE_LIMIT=50
UPLOAD_RATE_LIMIT=3
AI_RATE_LIMIT=10

# Credit System Configuration
FREE_TIER_CREDITS=5
PAID_TIER_CREDITS=100
PREMIUM_TIER_CREDITS=500

# AI Configuration (Production)
AI_MAX_RETRIES=2
AI_RETRY_DELAY=2000
AI_TIMEOUT=45000

# Logging Configuration (Production)
LOG_LEVEL=warn
LOG_FILE=/app/logs/swiftnotes-production.log
ENABLE_ACCESS_LOGS=true
ENABLE_ERROR_TRACKING=true

# Email Configuration (Production)
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASS}
FROM_EMAIL=noreply@swiftnotes.app

# File Upload Configuration
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf

# Database Configuration (Production)
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_TIMEOUT=60000

# Monitoring and Analytics
ENABLE_ANALYTICS=true
ANALYTICS_API_KEY=${ANALYTICS_API_KEY}
SENTRY_DSN=${SENTRY_DSN}
ENABLE_PERFORMANCE_MONITORING=true

# Feature Flags (Production)
ENABLE_OCR=true
ENABLE_PAYMENTS=true
ENABLE_ADMIN_PANEL=true
ENABLE_DEBUG_MODE=false

# Payment Configuration (Stripe Production)
STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
STRIPE_WEBHOOK_SECRET=${STRIPE_WEBHOOK_SECRET}
STRIPE_PUBLISHABLE_KEY=${STRIPE_PUBLISHABLE_KEY}

# Webhook URLs
STRIPE_WEBHOOK_URL=/api/webhooks/stripe
SUPABASE_WEBHOOK_URL=/api/webhooks/supabase

# Cache Configuration (Production)
CACHE_TTL=7200
CACHE_MAX_SIZE=5000
ENABLE_REDIS_CACHE=true

# CORS Configuration (Production)
CORS_ORIGINS=https://swiftnotes.app,https://www.swiftnotes.app

# Health Check Configuration
HEALTH_CHECK_INTERVAL=60000
HEALTH_CHECK_TIMEOUT=10000

# SSL/TLS Configuration
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000
ENABLE_CERTIFICATE_TRANSPARENCY=true

# Performance Configuration
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6
ENABLE_HTTP2=true

# Security Configuration (Production)
ENABLE_HELMET=true
ENABLE_RATE_LIMIT_HEADERS=true
ENABLE_SECURITY_HEADERS=true
TRUST_PROXY=true

# Backup Configuration
ENABLE_AUTOMATED_BACKUPS=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PROVIDER=aws-s3

# Scaling Configuration
MAX_CONCURRENT_REQUESTS=1000
CLUSTER_WORKERS=auto
ENABLE_GRACEFUL_SHUTDOWN=true
SHUTDOWN_TIMEOUT=30000

# Monitoring Endpoints
PROMETHEUS_METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/health
STATUS_PAGE_PATH=/status

# Error Handling (Production)
ENABLE_ERROR_PAGES=true
ERROR_PAGE_TEMPLATE=production
ENABLE_STACK_TRACES=false

# API Documentation
ENABLE_API_DOCS=false
API_DOCS_PATH=/docs

# Content Security Policy
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' 'unsafe-inline'
CSP_STYLE_SRC='self' 'unsafe-inline'
CSP_IMG_SRC='self' data: https:
CSP_CONNECT_SRC='self' https://ppavdpzulvosmmkzqtgy.supabase.co https://generativelanguage.googleapis.com

# Database Encryption
ENABLE_DATABASE_ENCRYPTION=true
ENCRYPTION_KEY=${ENCRYPTION_KEY}

# Audit Logging
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_RETENTION_DAYS=365

# Compliance
ENABLE_GDPR_COMPLIANCE=true
ENABLE_HIPAA_COMPLIANCE=true
DATA_RETENTION_DAYS=2555
